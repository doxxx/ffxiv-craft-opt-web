<div class="modal-header">
  <h3>State properties</h3>
</div>

<div class="modal-body" isolate-scrolling>
  <form name="RecipeEffectsForm">

      <div class="row-fluid">
          <tabset>
              <tab active="tabs.state">
                  <tab-heading>State</i></tab-heading>
                  <div class="span2"></div>
                  <div class="span8">
                      <div class="simulator-status recipeStartWith">
                          <table>
                              <tbody>
                              <tr>
                                  <td>Durability</td>
                                  <td class="operator">=</td>
                                  <td class="value">
                                      <input class="input-mini" type="number" min="0" force-numeric placeholder="{{recipe.durability}}" ng-model="recipeStartWith.durability" max="{{recipe.durability}}" step="5"/>
                                  </td>
                                  <td class="min-width">&nbsp;/&nbsp;</td>
                                  <td class="min-width text-right">{{recipe.durability}}</td>
                              </tr>
                              <tr>
                                  <td>Progress</td>
                                  <td class="operator">=</td>
                                  <td class="value">
                                      <input class="input-mini" type="number" min="0" force-numeric placeholder="0" ng-model="recipeStartWith.difficulty" max="{{recipe.difficulty}}" step="1"/>
                                  </td>
                                  <td>&nbsp;/&nbsp;</td>
                                  <td class="text-right">{{recipe.difficulty}}</td>
                              </tr>
                              <tr>
                                  <td>Quality</td>
                                  <td class="operator">=</td>
                                  <td class="value">
                                      <input class="input-mini" type="number" min="0" force-numeric placeholder="0" ng-model="recipeStartWith.quality" max="{{recipe.maxQuality}}" step="1"/>
                                  </td>
                                  <td>&nbsp;/&nbsp;</td>
                                  <td class="text-right">{{recipe.maxQuality}}</td>
                              </tr>
                              <tr>
                                  <td>CP</td>
                                  <td class="operator">=</td>
                                  <td class="value">
                                      <input class="input-mini" type="number" min="0" force-numeric placeholder="{{crafter.cp + bonusStats.cp}}" ng-model="recipeStartWith.cp" max="{{crafter.cp + bonusStats.cp}}" step="1"/>
                                  </td>
                                  <td>&nbsp;/&nbsp;</td>
                                  <td class="text-right">{{crafter.cp + bonusStats.cp}}</td>
                              </tr>
                              <tr>
                                  <td>Condition</td>
                                  <td class="operator">=</td>
                                  <td class="" colspan="3">
                                      <select class="input-medium" name="algorithm" ng-model="recipeStartWith.condition" required>
                                          <option>Normal</option>
                                          <option>Good</option>
                                          <option>Excellent</option>
                                          <option>Poor</option>
                                      </select>
                                  </td>
                              </tr>
                              </tbody>
                          </table>
                      </div>
                  </div>
                  <div class="span2"></div>
              </tab>
              <tab active="tabs.effects">
                  <tab-heading>Effects</tab-heading>
                  <div class="row-fluid">
                      <buffs effects="recipeStartWith.effects" recipe="recipe" action="removeEffect(buff)"></buffs>
                  </div>

                  <div class="row-fluid">
                      <div class="image-wrap glossy icon spinner" data-ng-repeat="action in crafterEffectActions">
                          <img ng-src="{{getActionImagePath(action.shortName, recipe.cls)}}"/>
                          <span class="more" data-ng-click="makeEffect(action, 1)"></span>
                          <span class="less" data-ng-click="makeEffect(action, -1)"></span>
                      </div>
                  </div>
              </tab>
          </tabset>
      </div>

  </form>
</div>

<div class="modal-footer">
    <button class="btn" ng-click="cancel()">Cancel</button>
    <button class="btn btn-primary" ng-click="save()">Save</button>
    <button class="btn btn-warning" ng-disabled="!canRevert()" ng-click="revert()">Revert</button>
    <button class="btn btn-warning" ng-disabled="isEmptyState()" ng-click="clear()">Clear</button>
</div>
